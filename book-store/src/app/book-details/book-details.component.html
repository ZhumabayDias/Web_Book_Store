<div class="book-detail-flex" *ngIf="book">
    <!-- –ö–∞—Ä—Ç–∏–Ω–∫–∞ -->
    <div class="book-image">
      <img [src]="book.cover" alt="{{ book.title }}" />
    </div>
  
    <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–Ω–∏–≥–µ -->
    <div class="book-info">
      <h2>{{ book.title }}</h2>
      <p class="type">–ö—ñ—Ç–∞–ø —Ç“Ø—Ä—ñ: <span class="paper-tag">“ö–∞“ì–∞–∑ –∫—ñ—Ç–∞–ø</span></p>
      <p class="price">{{ book.price }} ‚Ç∏</p>
      <p class="note">*–°–∞–π—Ç –∞—Ä“õ—ã–ª—ã —Ç–∞–ø—Å—ã—Ä—ã—Å –±–µ—Ä–≥–µ–Ω –∫–µ–∑–¥–µ 0 % –∂–µ“£—ñ–ª–¥—ñ–∫ –∞–ª—ã“£—ã–∑.</p>
  
      <button class="buy-btn">“ö–∞–∑—ñ—Ä —Å–∞—Ç—ã–ø –∞–ª—ã“£—ã–∑</button>
      <button class="fav-btn" (click)="toggleFavorite()">
        {{ isFavorite ? '‚ù§Ô∏è –¢–∞“£–¥–∞–ª“ì–∞–Ω–¥–∞—Ä–¥–∞' : 'ü§ç –¢–∞“£–¥–∞–ª“ì–∞–Ω–¥–∞—Ä“ì–∞ “õ–æ—Å—É' }}
      </button>
      <button (click)="addToCart()">üõí –°–µ–±–µ—Ç–∫–µ “õ–æ—Å—É</button>

  
      <div class="meta">
        <h4>–°–∏–ø–∞—Ç—Ç–∞–º–∞–ª–∞—Ä—ã</h4>
        <p><strong>–ê–≤—Ç–æ—Ä:</strong> {{ book.author || '–ë–µ–ª–≥—ñ—Å—ñ–∑' }}</p>
        <p><strong>–ë–∞—Å–ø–∞:</strong> Samga</p>
        <p><strong>–°–µ—Ä–∏—è—Å—ã:</strong> {{ book.series || '-' }}</p>
      </div>
    </div>
  
    <!-- –ë–ª–æ–∫ —Ä–µ–π—Ç–∏–Ω–≥–∞ –∏ –¥–æ—Å—Ç–∞–≤–∫–∏ -->
    <div class="book-rating-delivery">
      <h4>–ë–æ–ª—É—ã –∂”ô–Ω–µ —Ä–µ–π—Ç–∏–Ω–≥—ñ:</h4>
      <hr />
      <p>‚úÖ “ö–æ–π–º–∞–¥–∞ –±–∞—Ä</p>
      <p>‚≠ê 0.00 (–ü—ñ–∫—ñ—Ä–ª–µ—Ä —Å–∞–Ω—ã 0)</p>
  
      <h4>–ñ–µ—Ç–∫—ñ–∑—É —à–∞—Ä—Ç—Ç–∞—Ä—ã</h4>
      <hr />
      <p class="delivery-text">
        ”ò–¥–µ—Ç—Ç–µ, –∫—ñ—Ç–∞–ø—Ç–∞—Ä–¥—ã –∂–µ—Ç–∫—ñ–∑—É –ê–ª–º–∞—Ç—ã “õ–∞–ª–∞—Å—ã –±–æ–π—ã–Ω—à–∞ 1-–¥–µ–Ω 3 –∫“Ø–Ω–≥–µ –¥–µ–π—ñ–Ω, “ö–∞–∑–∞“õ—Å—Ç–∞–Ω –±–æ–π—ã–Ω—à–∞ 14 –∫“Ø–Ω–≥–µ –¥–µ–π—ñ–Ω –∂“Ø–∑–µ–≥–µ –∞—Å—ã—Ä—ã–ª–∞–¥—ã.
      </p>
  
      <h4>–ñ–µ—Ç–∫—ñ–∑—É ”ô–¥—ñ—Å—Ç–µ—Ä—ñ</h4>
      <hr />
      <ul class="delivery-methods">
        <li>‚úîÔ∏è –î“Ø–∫–µ–Ω–Ω–µ–Ω –∞–ª—ã–ø –∫–µ—Ç—É</li>
        <li>‚úîÔ∏è –ê–ª–º–∞—Ç—ã “õ–∞–ª–∞—Å—ã –±–æ–π—ã–Ω—à–∞ –∫—É—Ä—å–µ—Ä–ª—ñ–∫ –∂–µ—Ç–∫—ñ–∑—É</li>
        <li>‚úîÔ∏è “ö–∞–∑–∞“õ—Å—Ç–∞–Ω –±–æ–π—ã–Ω—à–∞ –∫—É—Ä—å–µ—Ä–ª—ñ–∫ –∂–µ—Ç–∫—ñ–∑—É</li>
        <li>‚úîÔ∏è “ö–∞–∑–ø–æ—à—Ç–∞ –±”©–ª—ñ–º—à–µ—Å—ñ–Ω–µ –∂–µ—Ç–∫—ñ–∑—É</li>
      </ul>
    </div>
  </div>

  <!-- –ê“£–¥–∞—Ç–ø–∞ -->
<div class="book-description-section">
    <h3>–ê“£–¥–∞—Ç–ø–∞</h3>
    <p>{{ book.description || '–ë“±–ª –∫—ñ—Ç–∞–ø—Ç—ã“£ –∞“£–¥–∞—Ç–ø–∞—Å—ã –∂–∞“õ—ã–Ω–¥–∞ “õ–æ—Å—ã–ª–∞–¥—ã.' }}</p>
  
    <div class="social-icons">
      <img src="https://cdn-icons-png.flaticon.com/512/145/145813.png" alt="vk" />
      <img src="https://cdn-icons-png.flaticon.com/512/145/145802.png" alt="facebook" />
      <img src="https://cdn-icons-png.flaticon.com/512/733/733579.png" alt="telegram" />
      <img src="https://cdn-icons-png.flaticon.com/512/733/733635.png" alt="twitter" />
    </div>
  </div>
  
  <!-- –ê“õ–ø–∞—Ä–∞—Ç -->
  <div class="book-info-section">
    <h3>–ê“õ–ø–∞—Ä–∞—Ç</h3>
    <table>
      <tr>
        <td>–ë–µ—Ç—Ç–µ—Ä —Å–∞–Ω—ã</td>
        <td>{{ book.pages || '‚Äî' }}</td>
      </tr>
      <tr>
        <td>ISBN:</td>
        <td>{{ book.isbn || '‚Äî' }}</td>
      </tr>
      <tr>
        <td>–®—ã“ì–∞—Ä—ã–ª“ì–∞–Ω –∂—ã–ª—ã:</td>
        <td>{{ book.year || '‚Äî' }}</td>
      </tr>
      <tr>
        <td>–ñ–µ—Ç–∫—ñ–∑—É:</td>
        <td>3-—Ç–µ–Ω 14 –∫“Ø–Ω–≥–µ –¥–µ–π—ñ–Ω</td>
      </tr>
      <tr>
        <td>–ú“±“õ–∞–±–∞:</td>
        <td>{{ book.coverType || '“ö–∞—Ç—Ç—ã' }}</td>
      </tr>
    </table>
  </div>

  <div class="review-section">
    <h3>–ü—ñ–∫—ñ—Ä–ª–µ—Ä ({{ reviews.length }})</h3>
    <hr />
  
    <!-- –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∑–∞–ª–æ–≥–∏–Ω–µ–Ω -->
    <div *ngIf="!isAuthenticated">
      <p>–ü—ñ–∫—ñ—Ä “õ–∞–ª–¥—ã—Ä—É “Ø—à—ñ–Ω –∂“Ø–π–µ–≥–µ –∫—ñ—Ä—ñ“£—ñ–∑</p>
    </div>
  
    <!-- –ï—Å–ª–∏ –∑–∞–ª–æ–≥–∏–Ω–µ–Ω -->
    <form *ngIf="isAuthenticated" (ngSubmit)="submitReview()">
      <textarea [(ngModel)]="newReview.comment" name="comment" placeholder="–ü—ñ–∫—ñ—Ä –∂–∞–∑—ã“£—ã–∑..." required></textarea>
      <select [(ngModel)]="newReview.rating" name="rating" required>
        <option value="" disabled selected>–ë–∞“ì–∞ –±–µ—Ä—ñ“£—ñ–∑</option>
        <option *ngFor="let r of [1,2,3,4,5]" [value]="r">{{ r }} ‚≠ê</option>
      </select>
      <button type="submit">–ñ—ñ–±–µ—Ä—É</button>
    </form>
  
    <!-- –û—Ç–∑—ã–≤—ã -->
    <div *ngFor="let review of reviews" class="single-review">
      <strong>{{ review.username }}</strong> 
      <span>({{ review.rating }} ‚≠ê)</span>
      <p>{{ review.comment }}</p>
    </div>
  </div>
<app-footer></app-footer>